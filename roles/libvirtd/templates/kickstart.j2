bootloader --location=mbr
zerombr
clearpart --all --initlabel
text
firewall --disable
firstboot --disable
keyboard gb
{% for interface in ks_item.value.ifcfg_ifcfg %}
{% if ks_item.value.ifcfg_ifcfg[interface].get('ipaddr') %}
network --device {{ interface }} --bootproto static --ip {{ ks_item.value.ifcfg_ifcfg[interface]['ipaddr'] }} --netmask {{ ks_item.value.ifcfg_ifcfg[interface]['mask'] }} --nameserver {{ ks_item.value.ifcfg_ifcfg[interface]['dns1'] }} --noipv6 --gateway {{ ks_item.value.routes_default }} --hostname {{ ks_item.key }}
{% endif %}
{% endfor %}
lang en_GB
logging --level=info
url --url=http://mirror.mhd.uk.as44574.net/mirror.centos.org/7.7.1908/os/x86_64/
reboot
selinux --disabled
skipx
timezone Europe/London
install
part / --fstype="xfs" --grow --size=1
part swap --recommended
user --name=tom --groups=wheel --iscrypted --password=$6$gAm2GgBXX6gIVIjt$QLAaWIq2aXJPiQh2KzZ54K4G/xKgSTrPXWZJDQwXZR0nbquUBxW.UABp75kC0dD4ZmzjJm60/yX/ojs6rIWst1
%packages
@core
%end
